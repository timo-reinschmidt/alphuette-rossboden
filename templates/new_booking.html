<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Neue Buchung</title>
  <link rel="stylesheet" href="/static/w3.css">
  <script>
    function showGuests() {
      const count = parseInt(document.getElementById('guests').value);
      const extra = document.getElementById('extra_guests');
      extra.innerHTML = '';
      for (let i = 1; i < count; i++) {
        extra.innerHTML += '<label>Name Mitreisender ' + i + '</label><input class="w3-input w3-margin-bottom" name="guest_name_' + i + '">';
        extra.innerHTML += '<label>Geburtsdatum Mitreisender ' + i + '</label><input type="date" class="w3-input w3-margin-bottom" name="guest_birth_' + i + '">';
      }
    }
  </script>
</head>
<body>
  <div class="w3-bar w3-dark-grey">
    <a href="/" class="w3-bar-item w3-button">Kalenderübersicht</a>
    <a href="/new" class="w3-bar-item w3-button">Neue Reservation</a>
    <a href="/logout" class="w3-bar-item w3-button w3-right">Logout</a>
  </div>
  <div class="w3-container">
    <h2>Neue Buchung</h2>
    <form method="post" class="w3-card w3-padding w3-white w3-round-large">
      <label>Hauptgast Name</label>
      <input class="w3-input w3-margin-bottom" name="name" required>
      <label>Geburtsdatum</label>
      <input type="date" class="w3-input w3-margin-bottom" name="birthdate" required>
      <label>Zimmer</label>
      <select class="w3-select w3-margin-bottom" name="room">
        {% for r in rooms %}
        <option value="{{ r }}">{{ r }} (max. {{ rooms[r] }})</option>
        {% endfor %}
      </select>
      <label>Anzahl Personen</label>
      <input class="w3-input w3-margin-bottom" type="number" name="guests" id="guests" min="1" onchange="showGuests()" required>
      <div id="extra_guests"></div>
      <label>Anreise</label>
      <input type="date" class="w3-input w3-margin-bottom" name="arrival" required>
      <label>Abreise</label>
      <input type="date" class="w3-input w3-margin-bottom" name="departure" required>
      <label><input type="checkbox" name="breakfast"> Frühstück</label><br>
      <label><input type="checkbox" name="dinner"> Abendessen</label><br><br>
      <button class="w3-button w3-blue">Speichern</button>
    </form>
  </div>
</body>
</html>